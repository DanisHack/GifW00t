<canvas id="myCanvas" style="border:1px solid #000000;"></canvas>
       

<script>

function getObjURL(canvas)      {
          //take apart data URL
    var parts = canvas.toDataURL().match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/);
    
    //assume base64 encoding
    var binStr = atob(parts[3]);
    
    //convert to binary in ArrayBuffer
    var buf = new ArrayBuffer(binStr.length);
    var view = new Uint8Array(buf);
    for(var i = 0; i < view.length; i++)
      view[i] = binStr.charCodeAt(i);
    
    var blob = new Blob([view], {'type': parts[1]});
    
    var url;
    if (window.webkitURL) url = window.webkitURL.createObjectURL(blob)
    else url = window.URL.createObjectURL(blob)
    return url;
}

            var c=document.getElementById("myCanvas");
            var ctx=c.getContext("2d");
            var img = new Image();
            img.src = "../src/img/yellow-flower.jpg"
            img.onload = function() {
                c.width = img.width
                c.height = img.height
                ctx.drawImage(img, 0, 0, img.width/1.5, img.height/1.5)
                var url = getObjURL(c);
                var  win=window.open(url, "_blank");
                win.focus();
            }
            
</script>